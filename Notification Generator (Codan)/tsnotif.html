<!DOCTYPE HTML>
	<head>
		<title>TS Notification</title>
		<script src="script.js"></script>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>

	<body>
		<h1>TS Planned Maintenance Generator</h1>
		
		<table id="main">
			<tr>
				<td><label for "mainMessage">Main Message: </label><br></td>
				<td><textarea id="mainMessage" rows="5" cols="50"></textarea></td>
			</tr>
			<tr>
				<td><label for="outageStart">Outage Start:</label></td>
				<td><input type="datetime-local" id="outageStart" name="outageStart"></td>
			</tr>
			<tr>
				<td><label for="outageFinish">Outage Finish:</label></td>
				<td><input type="datetime-local" id="outageFinish" name="outageFinish"></td>
			</tr>
			<tr>
				<td><label for "affApps">Affected Applications:</label></td>
				<td><textarea id="affApps" rows="1" cols="50"></textarea><br></td>
			</tr>
			<tr>
				<td><p>Affected Locations:</p></td>
				<td>
					<input type="radio" id="all" name="locations" value="All Locations" />
					<label for="all">All Locations</label><br>
					
					<input type="checkbox" id="bermuda" class="locations" name="locations" value="Bermuda" />
					<label for="bermdua">Bermuda</label><br>
					
					<input type="checkbox" id="bvi" class="locations" name="locations" value="British Virgin Islands" />
					<label for="bvi">British Virgin Islands</label><br>
					
					<input type="checkbox" id="cayman" class="locations" name="locations" value="Cayman Islands" />
					<label for="cayman">Cayman Islands</label><br>
					
					<input type="checkbox" id="hk" class="locations" name="locations" value="Hong Kong" />
					<label for="hk">Hong Kong</label><br>
					
					<input type="checkbox" id="london" class="locations" name="locations" value="London" />
					<label for="london">London</label><br>
					
					<input type="checkbox" id="singapore" class="locations" name="locations" value="Singapore" />
					<label for="singapore">Singapore</label>
					
					<script>
						const radioButton = document.getElementById('all');
						const checkboxes = document.querySelectorAll('.locations');

						radioButton.addEventListener('change', function(){
							if(this.checked){
								checkboxes.forEach(checkbox => {
									checkbox.checked = false;
								});
							}
						});

						checkboxes.forEach(checkbox => {
							checkbox.addEventListener('change', function(){
								if(this.checked && radioButton.checked){
									radioButton.checked = false;
								}
								else if(this.checked && checkboxesChecked() === checkboxes.length) {
									radioButton.checked = true;
									checkboxes.forEach(cb => {
										cb.checked = false;
									});
								}
							});
						});

						function checkboxesChecked(){
							let count = 0;
							checkboxes.forEach(checkbox => {
								if(checkbox.checked){
									count++;
								}
							});
							return count;
						}
					</script>
					
				</td>
			</tr>
			<tr>
				<td><label for "userAction">User Actions Required:</label></td>
				<td><textarea id="userAction" rows="1" cols="50"></textarea></td>
			</tr>
			<tr>
				<td><label for "note">NOTE:</label></td>
				<td><textarea id="note" rows="1" cols="50"></textarea></td>
			</tr>
		</table>
		
		<br>
		
		<button onclick="generateContent()">Generate Content Only</button>
		<button onclick="generateEmail()">Generate Email</button>
		
		<br>
		<br>
		
		<!-- The below section is exclusively for the formatted email generation -->
		
		<div id="generatedEmail">
			<div id="mainContent">
				<!--This is the container for the formatted email generated by the user prompts in the "main"-->
			</div>
			
			<div id="timeZoneTable">
				<p><strong>*Outage by Time Zone</strong></p>
				<table>
					<thead>
						<th>Geography</th>
						<th>Outage Start (local time)</th>
						<th>Outage Finish (local time)</th>
					</thead>
					<tbody id="timeZoneBody">
						<!--This is the container for the formatted timezone table-->
					</tbody>
				</table>
			</div>
			
			<div id="emailFooter">
				<br><hr align='left'></br>
				<p><strong>***DO NOT REPLY TO THIS EMAIL*** </strong>as this mailbox is not monitored.<br>For any questions and concerns, please email service@codanci.com or call the Service Desk at +1 416 504 4357</p>		
			</div>
		</div>
		
	</body>
	<footer>
	</footer>

</html>